# Example configuration file for MongoPHIMasker
# Replace placeholder values with your own configuration

# MongoDB connection settings
mongodb:
  source:
    uri: "mongodb://localhost:27017"
    database: "source_db"
    collection: "source_collection"
  destination:
    uri: "mongodb://localhost:27017"
    database: "masked_db"
    collection: "masked_collection"

# Processing configuration
processing:
  masking_mode: "separate"  # Options: separate, inplace
  batch_size:
    initial: 50
    min: 10
    max: 200
  workers:
    min: 1
    max: 4

# Masking configuration
masking:
  rules_path: "config/masking_rules/rules.json"
  default_rules: "config/masking_rules/default.json"
  collection_rules:
    patients: "config/masking_rules/patients.json"
    encounters: "config/masking_rules/encounters.json"

# Validation settings
validation:
  enabled: true
  max_retries: 3
  phi_fields:
    - "Name"
    - "Email"
    - "Phone"
    - "Address"
    - "SSN"

# Performance metrics configuration
metrics:
  enabled: true
  interval: 10  # seconds
  output_file: "logs/metrics.json"

# Connection settings
connection:
  timeout_ms: 30000
  retry_writes: true
  retry_reads: true
  max_pool_size: 100
  min_pool_size: 10

# Logging configuration
logging:
  level: "INFO"
  file: "logs/masking.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Progress tracking
progress:
  checkpoint:
    enabled: true
    interval: 60  # seconds
    directory: "checkpoints"

# Incremental sync
incremental:
  enabled: false
  field: "updatedAt"
  format: "ISO8601" 